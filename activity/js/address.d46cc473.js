(function(e){function t(t){for(var n,c,a=t[0],d=t[1],i=t[2],l=0,f=[];l<a.length;l++)c=a[l],s[c]&&f.push(s[c][0]),s[c]=0;for(n in d)Object.prototype.hasOwnProperty.call(d,n)&&(e[n]=d[n]);u&&u(t);while(f.length)f.shift()();return o.push.apply(o,i||[]),r()}function r(){for(var e,t=0;t<o.length;t++){for(var r=o[t],n=!0,a=1;a<r.length;a++){var d=r[a];0!==s[d]&&(n=!1)}n&&(o.splice(t--,1),e=c(c.s=r[0]))}return e}var n={},s={address:0},o=[];function c(t){if(n[t])return n[t].exports;var r=n[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,c),r.l=!0,r.exports}c.m=e,c.c=n,c.d=function(e,t,r){c.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},c.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,t){if(1&t&&(e=c(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(c.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)c.d(r,n,function(t){return e[t]}.bind(null,n));return r},c.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return c.d(t,"a",t),t},c.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},c.p="/activity/";var a=window["webpackJsonp"]=window["webpackJsonp"]||[],d=a.push.bind(a);a.push=t,a=a.slice();for(var i=0;i<a.length;i++)t(a[i]);var u=d;o.push([2,"chunk-vendors","chunk-common"]),r()})({2:function(e,t,r){e.exports=r("a981")},"503e":function(e,t,r){"use strict";var n=r("79de"),s=r.n(n);s.a},"79de":function(e,t,r){},a981:function(e,t,r){"use strict";r.r(t);r("acb7");var n=r("67bb"),s=(r("cadf"),r("551c"),r("f751"),r("097d"),r("2b0e")),o=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("van-address-list",{attrs:{list:e.list},on:{add:e.onAdd,edit:e.onEdit,select:e.select},model:{value:e.chosenAddressId,callback:function(t){e.chosenAddressId=t},expression:"chosenAddressId"}})],1)},c=[],a=(r("8e6e"),r("ac6a"),r("456d"),r("96cf"),r("3b8d")),d=(r("e7e5"),r("d399")),i=r("bd86"),u=r("4260"),l=r("365c");function f(e,t){var r=Object.keys(e);return Object.getOwnPropertySymbols&&r.push.apply(r,Object.getOwnPropertySymbols(e)),t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r}function p(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?f(r,!0).forEach(function(t){Object(i["a"])(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f(r).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var b={data:function(){return{chosenAddressId:"",list:[],userId:""}},mounted:function(){this.userId=Object(u["getQueryString"])("userId")},apollo:{queryAddress:function(){var e=this;return{query:l["b"].queryAddress,skip:function(){return!e.userId},variables:function(){return{AddressQuery:{userId:this.userId}}},result:function(e){var t=e.data;if(t){var r=t.address.map(function(e){return p({},e,{address1:e.address,address:"".concat(e.province).concat(e.city).concat(e.district).concat(e.address),tel:e.phone})}),n=t.address.filter(function(e){return e.isDefault});this.chosenAddressId=n&&n.length?n[0].id:"",this.list=r}}}}},methods:{onAdd:function(){location.href="/activity/addAddress.html?userId=".concat(this.userId)},onEdit:function(e,t){location.href="/activity/addAddress.html?userId=".concat(this.userId,"&addressInfo=").concat(JSON.stringify(e),"&edit=true"),Object(d["a"])("编辑地址:"+t)},select:function(){var e=Object(a["a"])(regeneratorRuntime.mark(function e(t,r){var n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return console.log(t,r),n=Object.assign(t,{address:t.address1,isDefault:!0}),delete t.__typename,delete t.tel,delete t.address1,e.prev=5,e.next=8,this.$apollo.mutate({mutation:l["b"].updateAddress,variables:{UpdateAddressInput:n}});case 8:this.$apollo.queries.queryAddress.refetch(),window.history.back(),e.next=15;break;case 12:e.prev=12,e.t0=e["catch"](5),Object(d["a"])(e.t0);case 15:case"end":return e.stop()}},e,this,[[5,12]])}));function t(t,r){return e.apply(this,arguments)}return t}(),updataAddress:function(){}}},h=b,v=(r("503e"),r("2877")),y=Object(v["a"])(h,o,c,!1,null,null,null),O=y.exports,g=r("ca94");s["a"].use(n["a"]),new s["a"]({apolloProvider:Object(g["a"])(),render:function(e){return e(O)}}).$mount("#app")}});
//# sourceMappingURL=address.d46cc473.js.map
(function(t){function e(e){for(var n,i,o=e[0],u=e[1],s=e[2],d=0,p=[];d<o.length;d++)i=o[d],a[i]&&p.push(a[i][0]),a[i]=0;for(n in u)Object.prototype.hasOwnProperty.call(u,n)&&(t[n]=u[n]);l&&l(e);while(p.length)p.shift()();return c.push.apply(c,s||[]),r()}function r(){for(var t,e=0;e<c.length;e++){for(var r=c[e],n=!0,o=1;o<r.length;o++){var u=r[o];0!==a[u]&&(n=!1)}n&&(c.splice(e--,1),t=i(i.s=r[0]))}return t}var n={},a={luckDraw:0},c=[];function i(e){if(n[e])return n[e].exports;var r=n[e]={i:e,l:!1,exports:{}};return t[e].call(r.exports,r,r.exports,i),r.l=!0,r.exports}i.m=t,i.c=n,i.d=function(t,e,r){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(i.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)i.d(r,n,function(e){return t[e]}.bind(null,n));return r},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/activity/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],u=o.push.bind(o);o.push=e,o=o.slice();for(var s=0;s<o.length;s++)e(o[s]);var l=u;c.push([12,"chunk-vendors","chunk-common"]),r()})({"09fd":function(t,e,r){},12:function(t,e,r){t.exports=r("5689")},"286a":function(t,e,r){"use strict";var n=r("09fd"),a=r.n(n);a.a},"35cc":function(t,e,r){t.exports=r.p+"img/title.5c553979.png"},5689:function(t,e,r){"use strict";r.r(e);r("cadf"),r("551c"),r("f751"),r("097d");var n=r("2b0e"),a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"rotary-wrap"},[n("div",{staticClass:"rotary-banner"},[n("img",{attrs:{src:r("35cc"),alt:""}}),n("img",{attrs:{src:r("6ac8"),alt:""}}),n("br"),n("div",{staticClass:"rotary-btn",on:{click:t.checkIn}},[n("img",{attrs:{src:r("ccce"),alt:""}})])]),n("img",{staticClass:"rotary-title",attrs:{src:r("76f2"),alt:""}}),n("div",{attrs:{id:"rotary-table"}},[t._l(t.awards,function(e,r){return n("div",{key:r,staticClass:"award",class:["award"+r]},[n("img",{staticClass:"gift-img",attrs:{src:e.cover,alt:""}}),n("div",{staticClass:"gift-award-gold"},[t._v(t._s(e.gold))]),n("div",{class:["awards",{active:r==t.current}]})])}),n("div",{attrs:{id:"start-btn"},on:{click:t.start}},[t._v("开始抽奖")])],2)])},c=[],i=(r("7f7f"),r("28a5"),r("e7e5"),r("d399")),o=(r("96cf"),r("3b8d")),u=r("365c"),s=r("4260"),l=Object(s["getQueryString"])("userId"),d={name:"Raffle",data:function(){return{current:0,userId:l,speed:200,diff:15,award:{},time:0}},apollo:{awards:function(){return{query:u["a"].query,update:function(t){return console.log(t),t.activity.products}}}},methods:{start:function(){this.drawAward(),this.time=Date.now(),this.speed=200,this.diff=15},checkIn:function(){var t=Object(o["a"])(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.$apollo.mutate({mutation:u["a"].checkIn,variables:{userId:this.userId}});case 3:Object(i["a"])("签到成功"),t.next=10;break;case 6:t.prev=6,t.t0=t["catch"](0),e=t.t0.message.split(":")[1],Object(i["a"])(e);case 10:case"end":return t.stop()}},t,this,[[0,6]])}));function e(){return t.apply(this,arguments)}return e}(),drawAward:function(){var t=Object(o["a"])(regeneratorRuntime.mark(function t(){var e,r,n;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.$apollo.mutate({mutation:u["a"].luckDraw,variables:{input:{userId:this.userId,activityId:"YWN0aXZpdHkvMg=="}}});case 3:e=t.sent,r=e.data,console.log(r),this.award=r.luckDraw,this.move(),t.next=14;break;case 10:t.prev=10,t.t0=t["catch"](0),n=t.t0.message.split(":")[1],Object(i["a"])(n);case 14:case"end":return t.stop()}},t,this,[[0,10]])}));function e(){return t.apply(this,arguments)}return e}(),move:function(){var t=this;window.timeout=setTimeout(function(){if(t.current++,t.current>7&&(t.current=0),t.award.id&&(Date.now()-t.time)/1e3>2){if(t.speed+=t.diff,(Date.now()-t.time)/1e3>4&&t.award.id==t.awards[t.current].id)return clearTimeout(window.timeout),void setTimeout(function(){Object(i["a"])("恭喜你，抽中了".concat(t.award.gold).concat(t.award.name))},0)}else t.speed-=t.diff;console.log(t.speed),t.move()},this.speed)}}},p=d,f=(r("286a"),r("2877")),m=Object(f["a"])(p,a,c,!1,null,null,null),g=m.exports,v=r("ca94");new n["a"]({apolloProvider:Object(v["a"])(),render:function(t){return t(g)}}).$mount("#app")},"6ac8":function(t,e,r){t.exports=r.p+"img/taili.2231a7a7.png"},"76f2":function(t,e,r){t.exports=r.p+"img/choujiang.9c76e1e9.png"},ccce:function(t,e){t.exports="data:image/png;base64,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"}});
//# sourceMappingURL=luckDraw.18a2b02d.js.map